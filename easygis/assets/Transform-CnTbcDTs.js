import{r as n,j as t}from"./index-Bv9NEQy6.js";import{S as d,g as J,a as R}from"./geojson-CDibdhsv.js";import{a as f,P as k,e as W}from"./Polygon-hRDLPUY4.js";import{S as x,w as K,g as U}from"./wkt-CgjDEvrM.js";import{c as _}from"./index-DWcLedXl.js";function z(){const[g,h]=n.useState(!1),[l,y]=n.useState(""),[T,j]=n.useState(""),[p,S]=n.useState(x[0]),[i,v]=n.useState(x[1]),[u,b]=n.useState(d[0]),[c,P]=n.useState(d[0]);n.useEffect(w,[l,p,i,u,c]);function N(e){y(e.target.value)}function O(e){S(e.target.value)}function C(e){v(e.target.value)}function E(e){b(e.target.value)}function G(e){P(e.target.value)}function w(){if(l.trim())try{let e="",r;const s={dataProjection:p,featureProjection:"EPSG:3857"},a={dataProjection:i,featureProjection:"EPSG:3857"};if(u==="WKT"?r=K(l,s):u==="GeoJSON"?r=J(JSON.parse(l),s):u==="x,y,x,y"&&(r=F(l)),c==="WKT")e=U(r,a);else if(c==="GeoJSON")e=JSON.stringify(R(r,a));else if(c==="x,y,x,y"){let o=r.getCoordinates();if(r.getType()==="Point")e=f(o,"EPSG:3857",i).join(",");else{o=o.flat(1/0);for(let m=0;m<o.length;m+=2){const I=f([o[m],o[m+1]],"EPSG:3857",i);e+=`${I.join(",")},`}}}j(e)}catch(e){console.log(e),h(!0)}}function F(e){const r=e.split(","),s=[];for(let a=0;a<r.length;a+=2){const o=f([r[a],r[a+1]],p,"EPSG:3857");s.push(o)}return s.length===1?new k(s[0]):new W([s])}return t.jsx("div",{className:"h-screen flex justify-center items-center",children:t.jsxs("div",{className:"flex",children:[t.jsxs("div",{className:"mr-2",children:[t.jsxs("div",{className:"flex mb-2",children:[t.jsx("label",{className:"block mr-2",children:"input:"}),t.jsx("select",{className:"border border-gray-300 px-2 py-1 mr-2",onChange:O,value:p,children:x.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("select",{className:"border border-gray-300 px-2 py-1",onChange:E,value:u,children:d.map(e=>t.jsx("option",{value:e,children:e},e))})]}),t.jsx("textarea",{onChange:N,placeholder:"input coordinate",className:_("w-96 h-40 border border-gray-300 p-2 outline-none",{"border-orange-600":g})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex mb-2",children:[t.jsx("label",{className:"block mr-2",children:"output:"}),t.jsx("select",{className:"border border-gray-300 px-2 py-1 mr-2",onChange:C,value:i,children:x.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("select",{className:"px-2 py-1 border border-gray-300",onChange:G,value:c,children:d.map(e=>t.jsx("option",{value:e,children:e},e))})]}),t.jsx("textarea",{value:T,disabled:!0,className:"w-96 h-40 bg-gray-200 p-2 cursor-not-allowed"})]})]})})}export{z as default};
