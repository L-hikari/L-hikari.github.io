import{r,j as o}from"./index-C4JnQzUC.js";import{M as N,V as O,f as T,O as V}from"./OSM-B2jYcmze.js";import{V as M,a as G}from"./Vector-B-0TSiaP.js";import{c as J}from"./index-DNF7-PJq.js";import{S as p,b as L,g as z}from"./geojson-CDibdhsv.js";import{S as x,F as g,a as U}from"./wkt-CgjDEvrM.js";import{a as _,P as k}from"./Polygon-hRDLPUY4.js";function H(){const f=r.useRef(),d=r.useRef(),i=r.useRef(new M),h=r.useRef(new G({source:i.current})),[y,m]=r.useState(!1),[n,w]=r.useState(p[0]),[l,S]=r.useState(x[0]),[s,v]=r.useState("");r.useEffect(j,[]),r.useEffect(b,[n,l,s]);function j(){f.current=new N({target:d.current,view:new O({center:[0,0],zoom:3}),layers:[new T({source:new V}),h.current]})}function F(e){w(e.target.value)}function P(e){S(e.target.value)}function C(e){v(e.target.value)}function b(e){try{if(!s)return;m(!1);let t;const c={dataProjection:l,featureProjection:"EPSG:3857"},a=f.current.getView();if(n==="x,y,x,y"){i.current.addFeatures(R(s)),a.fit(i.current.getExtent(),{padding:[30,30,30,30]});return}else if(n==="GeoJSON"){const u=JSON.parse(s);u.type==="Feature"?t=L(u,c):t=new g(z(u,c))}else n==="WKT"&&(t=U(s));i.current.addFeature(t)}catch(t){console.log(t),m(!0)}}function R(e){const t=e.split(","),c=[];for(let a=0;a<t.length;a+=2){const u=_([t[a],t[a+1]],l,"EPSG:3857"),E=new g(new k(u));c.push(E)}return c}return o.jsxs("div",{className:"h-full flex",children:[o.jsxs("div",{className:"h-full bg-white shadow rounded p-3",children:[o.jsxs("div",{className:"flex mb-2",children:[o.jsx("select",{className:"border border-gray-300 px-2 py-1 mr-2",value:l,onChange:P,children:x.map(e=>o.jsx("option",{value:e,children:e},e))}),o.jsx("select",{className:"border border-gray-300 px-2 py-1",value:n,onChange:F,children:p.map(e=>o.jsx("option",{value:e,children:e},e))})]}),o.jsx("textarea",{className:J("p-2 text-gray-800 resize-none outline-0 border border-gray-300",{"border-orange-600":y}),rows:"4",cols:"30",placeholder:"input coordinate",value:s,onChange:C})]}),o.jsx("div",{className:"h-full flex-1",ref:d})]})}export{H as default};
